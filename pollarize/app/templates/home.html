{% extends 'layout.html' %}
{% block content %}
<div class="row row-cols-4">
  {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="col mb-4">
      <ul class="flashes">
      {% for message in messages %}
        <li>{{ message }}</li>
      {% endfor %}
      </ul>
    </div>
    {% endif %}
  {% endwith %}
  <div class="col mb-4">
    <h3>Search For Polls</h3>
    <form method="post">
      <div class="input-group">
        <div class="input-group-prepend">
          {{ form.select() }}
        </div>
        {{ form.search() }}
        <div class="input-group-append">
          {{ form.submit() }}
        </div>
      </div>
    </form>
  </div>
  {% for poll in polls %}
  <div class="col mb-4">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">{{poll.title}}</h5>
        <h6 class="card-subtitle mb-2 text-muted">{{poll.date_added}}</h6>
        <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->
        <a href="{{url_for('poll', id=poll.poll_id)}}" class="card-link">View Poll</a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}